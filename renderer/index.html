<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FBX → glTF Converter</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
  <h1>FBX → glTF Converter</h1>
  <p>GUI for <code>FBX2glTF-windows-x64.exe</code></p>
  </header>

  <section class="io">
    <div id="dropZone" class="drop-zone" title="Drag & drop .fbx here">
      <strong>Drop .fbx files here</strong>
      <span class="muted">or use the button below</span>
    </div>
    <div class="field">
      <label>Input files (.fbx)</label>
      <div class="row">
        <button id="btnPickInput">Choose files…</button>
        <span id="inputFilesLabel" class="muted">No files selected</span>
      </div>
      <ul id="inputList"></ul>
    </div>

    <div class="field">
      <label>Output folder</label>
      <div class="row">
        <button id="btnPickOutput">Choose folder…</button>
        <span id="outputDirLabel" class="muted">No folder selected</span>
      </div>
    </div>
  </section>

  <section class="options">
    <h2>Options</h2>
    <div class="grid">
      <div class="field">
        <label>Output format</label>
        <div>
          <label><input type="radio" name="format" value="glb" checked> Single file (GLB)</label>
          <label><input type="radio" name="format" value="gltf"> glTF + resources</label>
          <label title="Include buffers inside glTF JSON">
            <input type="checkbox" id="optEmbed" disabled> Embed resources (--embed)
          </label>
        </div>
      </div>

      <div class="field">
        <label>Materials</label>
        <div>
          <select id="optMaterial">
            <option value="auto">Auto (default)</option>
            <option value="pbr">PBR metallic-roughness</option>
            <option value="unlit">Unlit</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label>UV</label>
        <div>
          <label><input type="checkbox" id="optFlipU"> Flip U</label>
          <label><input type="checkbox" id="optFlipV" checked> Flip V</label>
        </div>
      </div>

      <div class="field">
        <label>Index size</label>
        <div>
          <select id="optLongIndices">
            <option value="auto" selected>Auto</option>
            <option value="never">Never (16-bit)</option>
            <option value="always">Always (32-bit)</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label>Normals</label>
        <div>
          <select id="optComputeNormals">
            <option value="broken">Repair broken (default)</option>
            <option value="missing">Generate missing</option>
            <option value="always">Always</option>
            <option value="never">Never</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label>Animation FPS</label>
        <div>
          <select id="optAnimFramerate">
            <option value="">Default</option>
            <option value="bake24">24</option>
            <option value="bake30">30</option>
            <option value="bake60">60</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label><input type="checkbox" id="optUserProps"> Preserve FBX User Properties</label>
        <label><input type="checkbox" id="optVerbose"> Verbose</label>
      </div>
    </div>

    <details class="advanced">
      <summary>Draco compression (advanced)</summary>
      <div class="grid">
        <div class="field">
          <label><input type="checkbox" id="optDraco"> Enable Draco (--draco)</label>
        </div>
        <div class="field">
          <label>Level: <span id="dracoLevelVal">7</span></label>
          <input type="range" id="optDracoLevel" min="0" max="10" value="7">
        </div>
        <div class="field">
          <label>Position bits</label>
          <input type="number" id="optBitsPos" min="1" max="32" value="14">
        </div>
        <div class="field">
          <label>UV bits</label>
          <input type="number" id="optBitsUV" min="1" max="32" value="10">
        </div>
        <div class="field">
          <label>Normal bits</label>
          <input type="number" id="optBitsNrm" min="1" max="32" value="10">
        </div>
        <div class="field">
          <label>Color bits</label>
          <input type="number" id="optBitsCol" min="1" max="32" value="8">
        </div>
        <div class="field">
          <label>Other bits</label>
          <input type="number" id="optBitsOther" min="1" max="32" value="8">
        </div>
      </div>
    </details>

  </section>

  <section class="run">
    <button id="btnRun" class="primary">Convert</button>
    <span id="runStatus" class="muted"></span>
  </section>

  <section class="logs">
    <h2>Logs</h2>
    <pre id="log"></pre>
  </section>

  <section class="result">
    <h2>Result</h2>
    <div id="resultCard" class="result-card hidden">
      <div id="resultThumb" class="thumb" aria-hidden="true">GLTF</div>
      <div class="meta">
        <div id="resultName" class="name">—</div>
        <div id="resultPath" class="path muted">—</div>
        <div class="hint muted">Drag the box below into a folder to export the file</div>
        <div id="dragHandle" class="drag-handle" draggable="true">Drag out GLB/GLTF</div>
      </div>
    </div>
  </section>

  <footer>
    <small>Powered by FBX2glTF. See --help for the full list of flags.</small>
  </footer>

  <script src="renderer.js"></script>
</body>
</html>
